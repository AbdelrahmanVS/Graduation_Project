@model SearchResultVM

@{
    ViewData["Title"] = "Search Results";
}

<div class="product_page" id="ProductView">
    <div class="container mt-4 mb-5">
        <h2 class="mb-4">Search Results</h2>

        @if (ViewData["SearchMessage"] != null)
        {
            <div class="alert alert-info text-center">
                <strong>@ViewData["SearchMessage"]</strong>
            </div>
        }

        @if ((Model.Sports == null || !Model.Sports.Any()) &&
        (Model.Boots == null || !Model.Boots.Any()) &&
        (Model.TrendingSellings == null || !Model.TrendingSellings.Any()) &&
        (Model.Oxfords == null || !Model.Oxfords.Any()))
        {
            <div class="alert alert-warning text-center">
                <strong>No results found.</strong>
            </div>
        }
        else
        {
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 g-4">

                @* Sports *@
                @if (Model.Sports?.Any() == true)
                {
                    <h4 class="col-12 mb-3">Sports</h4>
                    @foreach (var s in Model.Sports)
                    {
                        <div class="col">
                            <a asp-controller="Sports" asp-action="Details" asp-route-id="@s.SportId" asp-fragment="ProductView" class="card-link-wrapper text-decoration-none">
                                <div class="card h-100 shadow-sm card-hover">
                                    <img src="@Url.Content(s.ImagUrl)" class="card-img-top" alt="@s.SportName" style="height:180px; object-fit:cover;">
                                    <div class="card-body d-flex flex-column">
                                        <h5 class="card-title text-dark">@s.SportName</h5>
                                        <p class="card-text text-success fw-bold">$@s.Price</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    }
                }

                @* Boots *@
                @if (Model.Boots?.Any() == true)
                {
                    <h4 class="col-12 mb-3">Boots</h4>
                    @foreach (var b in Model.Boots)
                    {
                        <div class="col">
                            <a asp-controller="Boots" asp-action="Details" asp-route-id="@b.BootId" asp-fragment="ProductView" class="card-link-wrapper text-decoration-none">
                                <div class="card h-100 shadow-sm card-hover">
                                    <img src="@Url.Content(b.ImagUrl)" class="card-img-top" alt="@b.BootName" style="height:180px; object-fit:cover;">
                                    <div class="card-body d-flex flex-column">
                                        <h5 class="card-title text-dark">@b.BootName</h5>
                                        <p class="card-text text-success fw-bold">$@b.Price</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    }
                }

                @* Trending Sellings *@
                @if (Model.TrendingSellings?.Any() == true)
                {
                    <h4 class="col-12 mb-3">Trending</h4>
                    @foreach (var t in Model.TrendingSellings)
                    {
                        <div class="col">
                            <a asp-controller="TrendingSellings" asp-action="Details" asp-route-id="@t.ProudId" asp-fragment="ProductView" class="card-link-wrapper text-decoration-none">
                                <div class="card h-100 shadow-sm card-hover">
                                    <img src="@Url.Content(t.ImagUrl)" class="card-img-top" alt="@t.ProudName" style="height:180px; object-fit:cover;">
                                    <div class="card-body d-flex flex-column">
                                        <h5 class="card-title text-dark">@t.ProudName</h5>
                                        <p class="card-text text-success fw-bold">$@t.Price</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    }
                }

                @* Oxfords *@
                @if (Model.Oxfords?.Any() == true)
                {
                    <h4 class="col-12 mb-3">Oxfords</h4>
                    @foreach (var o in Model.Oxfords)
                    {
                        <div class="col">
                            <a asp-controller="Oxfords" asp-action="Details" asp-route-id="@o.OxfordId" asp-fragment="ProductView" class="card-link-wrapper text-decoration-none">
                                <div class="card h-100 shadow-sm card-hover">
                                    <img src="@Url.Content(o.ImagUrl)" class="card-img-top" alt="@o.BootName" style="height:180px; object-fit:cover;">
                                    <div class="card-body d-flex flex-column">
                                        <h5 class="card-title text-dark">@o.BootName</h5>
                                        <p class="card-text text-success fw-bold">$@o.Price</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    }
                }

            </div>
        }
    </div>

    <style>
        .card-link-wrapper {
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .card-hover {
            transition: box-shadow 0.2s, transform 0.2s;
        }

        .card-link-wrapper:hover .card-hover {
            box-shadow: 0 0 0.75rem #007bff33;
            transform: translateY(-4px) scale(1.02);
            cursor: pointer;
        }
    </style>
</div>
